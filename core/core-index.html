<link rel="import" href="../pages/login-page.html">
<link rel="import" href="../pages/signin-page.html">
<link rel="import" href="../pages/slider-page.html">
<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">


<polymer-element name="core-index" >

  <template>
    <style>
      :host {
        left: 0px;
        top: 0px;
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        box-sizing: border-box;
      }
      #core_card {
        width: 100%;
        min-height: 95%;
        border-radius: 2px;
        box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        /*background-image: url(http://makeonweb.es/josestrk/img/big/bg-6.jpg);*/
        background-size: 100% 100%;
      }
      #paper_tabs {
        height: 5%;
        min-height: 30px;
        width: 100%;
        color: rgb(255, 255, 255);
        box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 2px;
        background-color: rgb(137, 191, 79);
      }
      #paper_tabs::shadow #tabsContainer{
        width: 100%;
      }
      template {display: none !important;}
    </style>

      <app-login id="login"></app-login>

      <core-animated-pages id="core_card" on-login="{{handleLogin}}"  layout vertical end-justified center transitions="slide-from-right">
        <section layout vertical center-center>
          <slider-page></slider-page>
        </section>
        <section layout vertical center-center>
          <signin-page></signin-page>
        </section>
        <section layout vertical center-center>
          <login-page></login-page>
        </section>
      </core-animated-pages>
      <paper-tabs selectedindex="1" id="paper_tabs" vertical layout wrap end>
        <template repeat="{{page in pages}}">
            <paper-tab id="{{page.id}}" hash="{{page.hash}}" select="{{page.select}}" on-click="{{clickedpaper}}">
              {{page.name}}
            </paper-tab>
        </template>
      </paper-tabs>
  </template>

    <script src="../lib/vide/jquery.vide.min.js"></script>
    <script>
        Polymer({
            ready: function() {
                this.pages = [
                    {name:'GET STARTED',id:'paper_tab', select:'signin'},
                    {name:'LOG IN',id:'paper_tab1'}
                ];
                this.login = this.$.login;
            },
            clickedpaper: function(event, detail, sender){
              sender.id=="paper_tab" ? this.$.core_card.selected=1 : console.log() ;
              sender.id=="paper_tab1" ? this.$.core_card.selected=2 : console.log();
            },
            handleLogin: function(event, detail) {
              if(detail=='g')
                this.$.login.login();
              else
                this.$.login.loginfb();
            }
        });

    </script>
</polymer-element>
