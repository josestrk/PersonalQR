<link href="../../../bower_components/core-icon/core-icon.html" rel="import">
<link href="../../../bower_components/core-icons/core-icons.html" rel="import">
<link href="../../../bower_components/core-icons/social-icons.html" rel="import">
<link href="../../../bower_components/core-icon-button/core-icon-button.html" rel="import">
<link href="../../../bower_components/paper-dialog/paper-dialog.html" rel="import">
<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog-transition.html">
<link rel="import" href="../../../lib/src/qr-code.html">

<polymer-element name="core-qr">
<template>
  <style>

    core-dropdown {
      background-color: #eee;
      color: #000;
      border: 1px solid #ccc;
      border-radius: 3px;
    }

    drop-down.margin::shadow core-dropdown {
      margin: 12px;
    }

    drop-down.open-below::shadow core-dropdown {
      position: absolute;
      top: 100px;
      left: 10000px;
    }

    drop-down.constrained::shadow core-dropdown {
      max-height: 500px;
    }

    .dropdown {
      padding: 12px;
    }

    .toolbar {
      color: #fff;
      font-size: 16px;
    }

    .toolbar-1 {
      background-color: #3b78e7;
    }

    .toolbar-2 {
      background-color: #4285f4;
    }

    .toolbar-3 {
      background-color: #5e97f6;
    }

    .bottom-toolbar-1 {
      background-color: #0d904f;
    }

    .bottom-toolbar-2 {
      background-color: #0f9d58;
    }

    .bottom-toolbar-3 {
      background-color: #33ac71;
    }

    .toolbar > * {
      padding: 12px;
    }

    .toolbar-label {
      width: 100px;
    }

    .middle {
      overflow: auto;
    }

    .middle > * {
      padding: 12px;
    }

    html /deep/ .size-position::shadow #scroller {
      width: 300px;
      height: 300px;
    }
    html /deep/ paper-dialog {
      color: green;
  }


  </style>

  <div flex class="middle">
        <core-icon-button class="core-dropdown-trigger" icon="image:blur-on" on-click="{{toggleDialog}}"></core-icon-button>

        <paper-dialog id="dia" backdrop transition="paper-dialog-transition-bottom">
          <qr-code id="qrq"></qr-code>
        </paper-dialog>
  </div>
</template>
<script src="../../../lib/src/qr.js"></script>
<script>
    Polymer({
     toggleDialog: function() {
       this.$.qrq.data="192.168.1.52:9005/#/profile/?id="+document.URL.split('/').reverse()[0].split('=').reverse()[0];
       this.$.dia.toggle();
     }
    });
</script>
</polymer-element>
