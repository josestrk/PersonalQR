<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../core/main-menu/main-menu.html">
<link rel="import" href="../core/id-card/id-card.html">
<link rel="import" href="../core/core-ajax-handler.html">

<polymer-element name="person-card" attributes="userid">
  <template>
    <style>
        .card{
            background: #666;
            margin: auto;
            padding: 10px;
            height: 200px;
            box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        }
        .rrss{
        
        }
    </style>
    <core-ajax-handler id="ajaxhandler"></core-ajax-handler>
      
    <main-menu imenu="" iduser="{{userid}}">
        <div class="title">Name USER</div>    
        <div class="notifi"><core-notifi id="notifi"></core-notifi></div>
        <div class="container">
            <core-card  class="card" layout vertical center center-justified>
                <id-card layout vertical center center-justified>
                <img width="150" height="150" class="img" id='{{name}}' src="../../img/avatar-01.svg" />
                <h2>{{ username == undefined ? 'Anonimus' : username }}</h2>
                <p>{{ follower > 0 ? follower : 0 }} Followers | {{ following > 0 ? following : 0 }} Following | {{ post > 0 ? post : 0 }} Post</p>
                </id-card>
            </core-card>
            <core-card class="rrss"></core-card>
        </div>
      
    </main-menu>
  </template>
  <script>
    (function () {
        Polymer({
            ready: function(){
              var that=this;
              var ajaxhandler = this.$.ajaxhandler;
              ajaxhandler.getArticles(document.URL.split('/').reverse()[0].split('=').reverse()[0],function (result){
                if(result){
                  that.lista=result.reverse();
                  var listPost = that.$.list;
                  that.lista.forEach(function (item) {
                     listPost.appendChild(createPage(item));
                  });
                }
              });
            }
        });
    })();
  </script>
</polymer-element>
