<link rel="import" href="../core/core-ajax-handler.html">
<link rel="import" href="../core/core-list/core-list.html">

<polymer-element name="search-page">
  <template>

    <core-ajax-handler id="ajaxhandler"></core-ajax-handler>
    <main-menu imenu="Search" logged="{{login.logged}}" progress="{{$.progress}}">
      <div class="title">Search</div>
      <paper-progress id="progress"></paper-progress>
      <core-list id="list"></core-list>
    </main-menu>

  </template>

  <script>
    (function () {
      Polymer({
        ready: function(){
          var _id=document.getElementById("user").datos._id;
          var ajaxhandler = this.$.ajaxhandler;
          ajaxhandler.getArticles( _id, function (result){
            if(result)
              this.asyncFire('core-signal', {name: "sender-list", data:result});
          }.bind(this));
        }
      });
    })();
  </script>

</polymer-element>
